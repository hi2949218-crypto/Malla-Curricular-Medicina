<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Medicina FMED ‚Äì Organizador</title>

<style>
body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:#f3f7fb;
}
header{
  background:#0b3c5d;
  color:white;
  padding:15px;
  text-align:center;
}
nav{
  display:flex;
  justify-content:center;
  background:#1f6fa8;
  flex-wrap:wrap;
}
nav button{
  background:none;
  border:none;
  color:white;
  padding:12px 18px;
  cursor:pointer;
}
nav button:hover{background:#155a8a;}
section{display:none;padding:20px;}
section.activa{display:block}

/* ===== MALLA ===== */
.malla{
  display:flex;
  gap:20px;
  overflow-x:auto;
}
.anio{
  min-width:240px;
  background:white;
  padding:12px;
  border-radius:14px;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
}
.anio h3{
  text-align:center;
  color:#1f6fa8;
  margin-bottom:10px;
}
.materia{
  background:#e3f1ff;
  border:2px solid #8bbce8;
  border-radius:10px;
  padding:10px;
  margin-bottom:8px;
  cursor:pointer;
  transition:.2s;
}
.materia:hover{transform:scale(1.02);}
.materia.aprobada{
  background:#c9ead3;
  border-color:#5fb37c;
}
.materia small{
  display:block;
  margin-top:4px;
  font-size:12px;
  color:#333;
}
.materia.bloqueada{
  opacity:.4;
  cursor:not-allowed;
}

/* ===== IA ===== */
.chat{
  max-width:700px;
  margin:auto;
}
.chat-box{
  background:white;
  padding:15px;
  height:300px;
  overflow-y:auto;
  border-radius:10px;
}
.msg{margin-bottom:10px;}
.user{font-weight:bold;color:#0b3c5d;}
.ia{color:#1f6fa8;}
input[type=text]{
  width:80%;
  padding:10px;
}

/* ===== OTROS ===== */
.timer{font-size:48px;text-align:center;}
textarea{width:100%;height:220px;}
</style>
</head>

<body>

<header>
<h1>Medicina FMED ‚Äì Organizador</h1>
</header>

<nav>
<button onclick="mostrar('malla')">üìò Malla</button>
<button onclick="mostrar('ia')">ü§ñ IA</button>
<button onclick="mostrar('pomodoro')">‚è± Pomodoro</button>
<button onclick="mostrar('horario')">üìÖ Horario</button>
</nav>

<!-- ================= MALLA ================= -->
<section id="malla" class="activa">
<div class="malla">

<!-- CBC -->
<div class="anio">
<h3>CBC</h3>
<div class="materia" data-id="bio">Biolog√≠a</div>
<div class="materia" data-id="qui">Qu√≠mica</div>
<div class="materia" data-id="fis">F√≠sica</div>
<div class="materia" data-id="mat">Matem√°tica</div>
<div class="materia" data-id="pc">Pensamiento Cient√≠fico</div>
<div class="materia" data-id="se">Sociedad y Estado</div>
</div>

<!-- 1 -->
<div class="anio">
<h3>1¬∞ A√±o</h3>
<div class="materia" data-id="anat">Anatom√≠a</div>
<div class="materia" data-id="histo">Histolog√≠a</div>
<div class="materia" data-id="biocel">Biolog√≠a Celular</div>
<div class="materia" data-id="embrio">Embriolog√≠a</div>
</div>

<!-- 2 -->
<div class="anio">
<h3>2¬∞ A√±o</h3>
<div class="materia" data-id="fisio">Fisiolog√≠a</div>
<div class="materia" data-id="bioq">Bioqu√≠mica</div>
<div class="materia" data-id="micro">Microbiolog√≠a</div>
</div>

<!-- 3 -->
<div class="anio">
<h3>3¬∞ A√±o</h3>
<div class="materia" data-id="pat">Patolog√≠a</div>
<div class="materia" data-id="farm">Farmacolog√≠a</div>
<div class="materia" data-id="meda">Medicina A</div>
</div>

<!-- 4 -->
<div class="anio">
<h3>4¬∞ A√±o</h3>
<div class="materia" data-id="medb">Medicina B</div>
<div class="materia" data-id="cir">Cirug√≠a</div>
<div class="materia" data-id="pedi">Pediatr√≠a</div>
</div>

<!-- 5 -->
<div class="anio">
<h3>5¬∞ A√±o</h3>
<div class="materia" data-id="gine">Ginecolog√≠a</div>
<div class="materia" data-id="psiq">Psiquiatr√≠a</div>
<div class="materia" data-id="legal">Medicina Legal</div>
</div>

<!-- 6 -->
<div class="anio">
<h3>6¬∞ A√±o</h3>
<div class="materia" data-id="pfo">Pr√°ctica Final Obligatoria</div>
</div>

</div>
</section>

<!-- ================= IA ================= -->
<section id="ia">
<h2>Asistente de Medicina</h2>
<div class="chat">
<div class="chat-box" id="chat"></div>
<input type="text" id="pregunta" placeholder="Ej: ¬øC√≥mo estudiar anatom√≠a?">
<button onclick="responder()">Enviar</button>
</div>
</section>

<!-- ================= POMODORO ================= -->
<section id="pomodoro">
<h2>Pomodoro</h2>
<div class="timer" id="timer">25:00</div>
<button onclick="start()">Iniciar</button>
<button onclick="reset()">Reset</button>
</section>

<!-- ================= HORARIO ================= -->
<section id="horario">
<h2>Mi horario</h2>
<textarea id="horario"></textarea><br>
<button onclick="guardarHorario()">Guardar</button>
</section>

<script>
/* ===== TABS ===== */
function mostrar(id){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("activa"));
  document.getElementById(id).classList.add("activa");
}

/* ===== NOTAS POR MATERIA ===== */
document.querySelectorAll(".materia").forEach(m=>{
  const id=m.dataset.id;
  const data=JSON.parse(localStorage.getItem(id)||"{}");
  if(data.aprobada){
    m.classList.add("aprobada");
    if(data.nota) m.innerHTML+=`<small>Nota: ${data.nota}</small>`;
  }
  m.onclick=()=>{
    const nota=prompt("Nota final (1-10):");
    if(!nota)return;
    localStorage.setItem(id,JSON.stringify({aprobada:true,nota}));
    location.reload();
  }
});

/* ===== IA ===== */
function responder(){
  const q=pregunta.value.toLowerCase();
  chat.innerHTML+=`<div class="msg user">Vos: ${pregunta.value}</div>`;
  let r="Buena pregunta. Decime la materia y te ayudo.";

  if(q.includes("anatom")){
    r="Anatom√≠a es pesada por volumen. Constancia diaria, atlas + pr√°ctica. No memorices sin entender.";
  } else if(q.includes("fisiolog")){
    r="Fisiolog√≠a requiere razonamiento. Entender mecanismos antes de memorizar.";
  } else if(q.includes("bioqu")){
    r="Bioqu√≠mica se hace llevadera con esquemas. No intentes aprenderla de memoria cruda.";
  } else if(q.includes("dificil")){
    r="Las m√°s exigentes suelen ser Anatom√≠a, Fisiolog√≠a y Bioqu√≠mica.";
  }

  chat.innerHTML+=`<div class="msg ia">IA: ${r}</div>`;
  chat.scrollTop=chat.scrollHeight;
  pregunta.value="";
}

/* ===== POMODORO ===== */
let t=1500,i;
function start(){
  clearInterval(i);
  i=setInterval(()=>{
    t--;
    timer.innerText=Math.floor(t/60)+":"+String(t%60).padStart(2,"0");
    if(t<=0)clearInterval(i);
  },1000);
}
function reset(){clearInterval(i);t=1500;timer.innerText="25:00";}

/* ===== HORARIO ===== */
horario.value=localStorage.getItem("horario")||"";
function guardarHorario(){
  localStorage.setItem("horario",horario.value);
}
</script>

</body>
</html>
